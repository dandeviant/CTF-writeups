## TryHackMe | Basic Pentest
Room: https://tryhackme.com/room/basicpentestingjt

---
IP given: 10.10.174.194
```bash
export IP=10.10.174.194
```

### Questions and Answers


1. Deploy the machine and connect to our network

2. Find the services exposed by the machine

3. What is the name of the hidden directory on the web server(enter name without /)?
> Answer: development

4. Use brute-forcing to find the username & password

5. What is the username?
> Answer: jan
6. What is the password?
> Answer: armando
7. What service do you use to access the server(answer in abbreviation in all caps)?
> Answer: SSH
8. Enumerate the machine to find any vectors for privilege escalation

9. What is the name of the other user you found(all lower case)?
> Answer: kay
10. If you have found another user, what can you do with this information?
11. What is the final password you obtain?
> Answer: `heresareallystrongpasswordthatfollowsthepasswordpolicy$$`

### Methods

1. Deploy and perform the nmap scans. We will found that SSH port is open and it is our only easy doorway to the target machine. We have the answer for Q7
2. HTTP ports are also open, so run gobuster scans. Add necessary extension for self assurance that everything important will be found. Don't add any if you don't want the extensions. It's not important anyway, but it's a good practice to include it as well.
> ```bash
> gobuster dir -u http://10.10.224.108 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php,css,js,html,txt,py,cgi,sh
> ```

3. Browse the main page in the browser with the IP
4. The page source mentioned to check the dev note
5. From our gobuster results, we know that the dev note is a directory named `/development`. We have an answer for Q3
6. Now, enum4linux comes in action. Run it with the following command
> ```bash
> enum4linux 10.10.174.194
> ```
7. After waiting like hell for the result, enum4linux will found 2 users; jan and kay. We now have answers for Q5 and Q9
8. Based on the dev note in `development`, jan's password is weak. Bruteforce jan using Hydra
> ```bash
> hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.224.108
> ```
9. After founding the password, which is `armando` , SSH to jan
10. Now, our only question left is Q11, which is something that we can probably found in kay's home directory. Jan's users has ABSOLUTELY NO privilege. So, we need to find our way to kay's SSH user.
11. We can start by running linpeas.sh, as taught by John Hammond. 
12. linpeas will highlight that there are private id_rsa ssh keys belonged to kay
13. Jan cannot run scp. So copy the key content and create a key file in your local machine
14. Once done, we can try ssh into kay using the key.
> ```bash
> ssh -i id_rsa kay@10.10.224.108
> ```

15. The key actually required passphrase to use. So, time for John to come and help us
16. Hash the key using ssh2john
> ```bash
> ssh2john id_rsa > keyhash
> ```
17. Crack the keyhash with rockyou.txt wordlists using John the Ripper
> ```bash
> john --wordlists=/usr/share/wordlists/rockyou.txt keyhash
> ```
18. Now we have the passphrase, ssh into kay as usual
> Passphrase: beeswax
19. We now have access to kay. Time for post-exploitation. Find any files in kay's directory that can be useful.
20. There is a `pass.bak` that may contain the answer for the final question. Cat it. 
21. We've completed the EASY room. 
22. Play with the box. I wanna try some reverse shell from it. 